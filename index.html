<!doctype html>
<html>
	<head>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width" />
		<title>Dave Smith</title>
        <script src="phonegap.js" type="text/javascript"></script>
        <script src="compass.js" type="text/javascript"></script>
		<script src="jq.js" type="text/javascript"></script>
		<script src="jqm.js" type="text/javascript"></script>
        
        <script type="text/javascript">

            
            document.addEventListener("deviceready", onDeviceReady, false);
			
			//$(document).ready(function(){ onDeviceReady(); });

            function onDeviceReady() {
	
			$('#main').tap(function(){
				
			$('#main').html('Getting data');
			 var ajax = new XMLHttpRequest();
		     ajax.open("GET","http://smiff.co.uk/test.data",true);
		     ajax.send();

		     ajax.onreadystatechange=function(){
				  $('.debug').html(ajax.readyState + ' AND ' + ajax.status );
		          if(ajax.readyState==4 && (ajax.status==200)){
			
						eval('var data = ' + ajax.responseText + ';');
												
						var results = data.results;
						var string = '';
						
						for(var i=0;i<results.length;i++){
							string += "<br/>Name: " + results[i].name + "<br/>Age: " + results[i].age + "<br/>Height: " + results[i].height + "<br/>Kids: " + results[i].children.name + " - " + results[i].children.age + "<br/><br/>";
						}
						
		                document.getElementById('main').innerHTML = "Heres my string:<br/><br/>" + string;
		          }
		     }
				});
            }
			

            </script>
        
        
		
		<style>
			#main {
				min-height: 100px;
				width: 100%;
				background: red;
			}
		</style>
		
		
	</head>
	<body>

		<div id="main"></div>
		<div class="debug">
			<br/><br/>
		</div>
	</body>
</html>